<h1>Invoice #: <%= @invoice.id %></h1>
<p>Status: <%= @invoice.status %></p>
<%= form_with model: @invoice, url: admin_invoice_path(@invoice.id), method: :patch, local: true do |form| %>
	<%= form.label :current_status %>
  <%= form.select :status, options_for_select([["completed", "completed"],["cancelled", "cancelled"], ["in progress", "in progress"]]) %>
  <%= form.submit 'Update Invoice Status' %>
<% end %>

<p>Created on: <%= @invoice.formatted_date %></p>
<p>Customer: <%= @invoice.customer.first_name %> <%= @invoice.customer.last_name %></p>
<p>Total Revenue: <%= number_to_currency(@invoice.total_revenue) %></p>

<table class="table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Quantity</th>
      <th>Unit Price</th>
      <th>Item Status</th>
    </tr>
  </thead>

    <tbody>
      <% @invoice.invoice_items.each do |invoice_item| %>
        <tr id="invoice-<%= invoice_item.item.id %>">
          <td><%= invoice_item.item.name %></td>
          <td><%= invoice_item.quantity %></td>
          <td><%= number_to_currency(invoice_item.item.unit_price) %></td>
          <td><%= invoice_item.item.status %></td>
        </tr>
      <% end %>
</table>
